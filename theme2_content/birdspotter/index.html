<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic 4.6.3"><meta name=author content="Marian-Andrei Rizoiu"><meta name=description content="We introduce `birdspotter`, an R tool that models Twitter users' attributes and labels them."><link rel=alternate hreflang=en-us href=https://www.behavioral-ds.science/theme2_content/birdspotter/><meta name=theme-color content="#2962ff"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/dracula.min.css crossorigin=anonymous title=hl-dark disabled><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin=anonymous async></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap"><link rel=stylesheet href=/css/academic.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-983V3P8SQ2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
function trackOutboundLink(url){gtag('event','click',{'event_category':'outbound','event_label':url,'transport_type':'beacon','event_callback':function(){document.location=url;}});console.debug("Outbound link clicked: "+url);}
function onClickCallback(event){if((event.target.tagName!=='A')||(event.target.host===window.location.host)){return;}
trackOutboundLink(event.target);}
gtag('js',new Date());gtag('config','G-983V3P8SQ2',{});document.addEventListener('click',onClickCallback,false);</script><link rel=manifest href=/index.webmanifest><link rel=icon type=image/png href=/img/icon-32.png><link rel=apple-touch-icon type=image/png href=/img/icon-192.png><link rel=canonical href=https://www.behavioral-ds.science/theme2_content/birdspotter/><meta property="twitter:card" content="summary_large_image"><meta property="og:site_name" content="Behavioral Data Science"><meta property="og:url" content="https://www.behavioral-ds.science/theme2_content/birdspotter/"><meta property="og:title" content="birdspotter: A toolkit for analyzing and labelling Twitter users | Behavioral Data Science"><meta property="og:description" content="We introduce `birdspotter`, an R tool that models Twitter users' attributes and labels them."><meta property="og:image" content="https://www.behavioral-ds.science/img/logo.png"><meta property="twitter:image" content="https://www.behavioral-ds.science/img/logo.png"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2021-03-09T00:00:00+00:00"><meta property="article:modified_time" content="2021-03-09T00:00:00+00:00"><title>birdspotter: A toolkit for analyzing and labelling Twitter users | Behavioral Data Science</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container style=max-width:93%><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/><img src=/img/logo.png alt="Behavioral Data Science"></a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/><img src=/img/logo.png alt="Behavioral Data Science"></a></div><div class="navbar-collapse main-menu-item collapse justify-content-end" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/people><span>People</span></a></li><li class=nav-item><a class=nav-link href=/publication><span>Publications</span></a></li><li class="nav-item dropdown"><a href=/research class=nav-link aria-haspopup=true><span>Research</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=/research/#theme1><span>Information spread, influence and attention</span></a>
<a class=dropdown-item href=/research/#theme2><span>Disinformation and online problematic content</span></a>
<a class=dropdown-item href=/research/#theme3><span>The labour markets of tomorrow</span></a></div></li><li class=nav-item><a class=nav-link href=/news><span>News</span></a></li><li class=nav-item><a class=nav-link href=/reading><span>Reading</span></a></li><li class=nav-item><a class=nav-link href=/contact><span>Contact</span></a></li><li class=nav-item><a class=nav-link href=https://github.com/behavioral-ds target=_blank rel=noopener><span><i class="fab fa-github" style=color:#333;font-size:1rem></i></span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=#><i class="fas fa-search" aria-hidden=true></i></a></li></ul></div></nav><article class=article><div class="article-container pt-3"><h1>birdspotter: A toolkit for analyzing and labelling Twitter users</h1><div class=article-metadata><div><span><a href=/authors/rohit-ram/>Rohit Ram</a></span></div><span class=article-date>Mar 9, 2021</span>
<span class=middot-divider></span><span class=article-categories><i class="fas fa-folder mr-1"></i><a href=/categories/software/>Software</a></span></div><div class="btn-links mb-3"><a class="btn btn-outline-primary my-1 mr-1" href=https://github.com/behavioral-ds/birdspotter target=_blank rel=noopener><i class="fab fa-github-alt mr-1"></i>Code</a></div></div><div class=article-container><div class=article-style><iframe width=560 height=315 src=https://www.youtube.com/embed/52HwHAiK1rs title="YouTube video player" frameborder=0 allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><p>Social media platforms, although relatively new, host millions of users and billions of interactions daily. As tied as we are to these platforms, they profoundly impact our social institutions through phenomena such as disinformation, political polarization, and social bots.</p><p>Researchers are increasingly interested in trying to form an understanding of phenomena and their implications. Social scientists, political scientists, and data practitioners alike curate expansive datasets to combat these potentially adverse effects on our society; however, they lack the appropriate tooling.</p><p><code>birdspotter</code> is an <strong>easy-to-use</strong> tool that models Twitter users&rsquo; attributes and labels them. It comes prepackaged with a <strong>state-of-the-art bot detector</strong> and an <strong>influence quantification</strong> system based on tweet dynamics. <code>birdspotter</code> features a generalized user labeler, which can be retrained easily with the engineered features to address a variety of use cases. Also, <a href=http://birdspotter.ml/>birdspotter.ml</a> is a web application that can be utilized to explore datasets and derive a narrative around a dataset.</p><p>In this post, I'll showcase the basic usage of <code>birdspotter</code> and <a href=http://birdspotter.ml/>birdspotter.ml</a>.</p><h2 id=installation>Installation</h2><p>The package can be installed in the canonical python way:</p><pre><code class=language-{bash}>pip install birdspotter
</code></pre><h2 id=getting-a-dataset>Getting a dataset</h2><p>The Twitter T&Cs restrict the sharing of tweet data directly online; however, they do allow the sharing of tweet-ids, which can be converted to full tweet data through a process called <em>hydration</em>. Tools like <a href=https://github.com/DocNow/twarc>twarc</a> can be used to hydrate a Tweet ID dataset. The resulting dataset will be in <code>jsonl</code> (line delimited <code>json</code>) format, which <code>birdspotter</code> accepts directly.</p><p>In the below examples, we use two datasets; a collection of COVID-19 related tweets from January 31st, 2020 [1], and a collection of tweets about politicians on Twitter [2].</p><p>The politicians&rsquo; dataset was acquired through the following process (and a similar process was taken for the COVID-19 dataset):</p><pre><code class=language-{bash}>pip install twarc
wget http://twitterpoliticians.org./downloads/base/all_tweet_ids.csv
twarc hydrate all_tweet_ids.csv &gt; tweets.jsonl
</code></pre><h2 id=basic-usage>Basic Usage</h2><p>The code below imports the main class <code>Birdspotter</code>, extracts the tweets from their standard format, labels the users with the default bot detector and influence, and reformats the retweet cascades into a tidier format.</p><pre><code class=language-{python}>## Import birdspotter
from birdspotter import BirdSpotter 

## Extracts the tweets from the raw jsonl [https://github.com/echen102/COVID-19-TweetIDs]
bs = BirdSpotter('covid19.jsonl') 

## Uses the default bot labeller and influence quantification systems
bs.getLabeledUsers() 

## Formats the retweet cascades, such that expected retweet structures can extracted
bs.getCascadesDataFrame() 

## Access the botness labels and influence scores
bs.featureDataframe[['botness', 'influence']]
</code></pre><p>From here, the dataset is readily profile-able:</p><pre><code class=language-{python}>botness_dist = sns.histplot(data=bs.featureDataframe, x=&quot;botness&quot;)
influence_eccdf = sns.ecdfplot(data=bs.featureDataframe, x=&quot;influence&quot;, complementary=True).set(xscale=&quot;log&quot;, yscale=&quot;log&quot;)
</code></pre><p><img src=/img/covid_profile.png alt="COVID Dataset Profile: (Left) The distribution of bot scores of users; (Right) The ECCDF of influence scores of users, showing a long-tailed (rich-gets-richer) paradigm"></p><h2 id=the-visualizer>The visualizer</h2><p>An alternative way to profile a dataset is the use <a href=http://birdspotter.ml><code>birdspotter.ml</code></a>, which facilitates dataset exploration and narrative construction.</p><p><img src=/img/auspol_teaser.png alt="birdspotter.ml visualizer: The various components shown include the scatterplot panel (Left), the user information panel (Top Right), and the retweet cascades panel (Bottom Right)"></p><p>The visualizer features a scatterplot (on the left) of influence and botness for a sample of users and the population density. The colors represent the hashtags (a proxy for the topic) that the users most tweet about in the dataset. Users within the scatterplot are hoverable and selectable, and their information populates in the components on the right.</p><p>The top right component shows information and metrics about the selected user and links the user's profile.</p><p>The bottom right component shows the retweet cascades where a user has participated and highlights their participation. The points represent the follower counts (social capital) of users and their retweets/tweets&rsquo; timing. The points are also hoverable and selectable.</p><h2 id=customising-the-labeller>Customising the labeller</h2><p>By default, the labeler is trained as a bot detection system, comparable to the state-of-the-art <a href=https://botometer.osome.iu.edu/><code>botometer</code></a>. Notable, <code>birdspotter</code> is provided in an offline package and can be applied at scale, while <code>botometer</code> is accessible only via an online API, which is often prohibitively rate-limited.</p><p><code>birdspotter</code> is a versatile tool and can be utilized by practitioners for a variety of use-cases. For example, we could train the labeler to identify political leaning. This process is a bit involved, so we summarise it below;</p><ol><li>We hydrate some tweets from the Twitter Parlimentarian Database</li><li>We filter the tweets to include only <strong>Australian Politicians</strong>.</li><li>We <strong>label right-wing partied politicians positively</strong>, and others negatively (with <code>bs_pol.getBotAnnotationTemplate</code> for example)</li><li>We <strong>retrain <code>birdspotter</code></strong> with these new labels and label all users (i.e., including users the politicians retweeted) using the new model</li></ol><pre><code class=language-{python}>bs_pol = BirdSpotter('aus_tweets.jsonl')
bs_pol.trainClassifierModel('pol_training_data.pickle')
bs_pol.getLabeledUsers()
</code></pre><p>On this limited of Australian politicians dataset, a 10-fold CV of <code>birdspotter</code> garners an average AUC (Area under ROC) of 0.986.</p><h2 id=conclusion>Conclusion</h2><p><code>birdspotter</code> aims to democratize social analyzes that were once the domain of machine learning experts, generating insights and understanding of online phenomena and mitigating their potentially adverse effects on our society. This post shows how <code>birdspotter</code> can be used in both a simple and advanced way to recover such insights.</p><h2 id=references>References</h2><p>[1] Chen, E. et al. 2020. Tracking social media discourse about the covid-19 pandemic: Development of a public coronavirus twitter data set. JMIR Public Health and Surveillance. 6, 2 (2020), e19273.</p><p>[2] Vliet, L. van et al. 2020. The twitter parliamentarian database: Analyzing twitter politics across 26 countries. PloS one. 15, 9 (2020), e0237073.</p></div><div class=article-tags><a class="badge badge-light" href=/tags/python/>python</a></div><div class=share-box aria-hidden=true><ul class=share><li><a href="https://twitter.com/intent/tweet?url=https://www.behavioral-ds.science/theme2_content/birdspotter/&text=birdspotter:%20A%20toolkit%20for%20analyzing%20and%20labelling%20Twitter%20users" target=_blank rel=noopener class=share-btn-twitter><i class="fab fa-twitter"></i></a></li><li><a href="https://www.facebook.com/sharer.php?u=https://www.behavioral-ds.science/theme2_content/birdspotter/&t=birdspotter:%20A%20toolkit%20for%20analyzing%20and%20labelling%20Twitter%20users" target=_blank rel=noopener class=share-btn-facebook><i class="fab fa-facebook"></i></a></li><li><a href="mailto:?subject=birdspotter:%20A%20toolkit%20for%20analyzing%20and%20labelling%20Twitter%20users&body=https://www.behavioral-ds.science/theme2_content/birdspotter/" target=_blank rel=noopener class=share-btn-email><i class="fas fa-envelope"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?url=https://www.behavioral-ds.science/theme2_content/birdspotter/&title=birdspotter:%20A%20toolkit%20for%20analyzing%20and%20labelling%20Twitter%20users" target=_blank rel=noopener class=share-btn-linkedin><i class="fab fa-linkedin-in"></i></a></li><li><a href="https://web.whatsapp.com/send?text=birdspotter:%20A%20toolkit%20for%20analyzing%20and%20labelling%20Twitter%20users%20https://www.behavioral-ds.science/theme2_content/birdspotter/" target=_blank rel=noopener class=share-btn-whatsapp><i class="fab fa-whatsapp"></i></a></li><li><a href="https://service.weibo.com/share/share.php?url=https://www.behavioral-ds.science/theme2_content/birdspotter/&title=birdspotter:%20A%20toolkit%20for%20analyzing%20and%20labelling%20Twitter%20users" target=_blank rel=noopener class=share-btn-weibo><i class="fab fa-weibo"></i></a></li></ul></div><div class="media author-card content-widget-hr"><img class="portrait mr-3" src=/authors/rohit-ram/avatar_hu440177783dd1505b8cf08c8d56781e24_11726_250x250_fill_q90_lanczos_center.jpg alt=Avatar><div class=media-body><h5 class=card-title><a href=/authors/rohit-ram/>Rohit Ram</a></h5><h6 class=card-subtitle>PhD student</h6><p class=card-text>Hi, I'm Rohit. I'm a <strong>PhD candidate at the University of Technology Sydney</strong>, interested in how people exhibit opinions and behaviours in online social environments. If you're interested in my research or just want to say &lsquo;hi&rsquo;, <strong>send us a message on <a href=https://twitter.com/rohitram96>Twitter</a></strong>.</p><ul class=network-icon aria-hidden=true><li><a href=https://twitter.com/rohitram96 target=_blank rel=noopener><i class="fab fa-twitter"></i></a></li><li><a href=https://github.com/rohitram96 target=_blank rel=noopener><i class="fab fa-github"></i></a></li><li><a href=https://enchiridion.ml/ target=_blank rel=noopener><i class="fas fa-user"></i></a></li></ul></div></div></div></article><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js integrity="sha256-1zu+3BnLYV9LdiY85uXMzii3bdrkelyp37e0ZyTAQh0=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/r.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin=anonymous></script><script>const code_highlighting=true;</script><script>const search_config={"indexURI":"/index.json","minLength":1,"threshold":0.3};const i18n={"no_results":"No results found","placeholder":"Search...","results":"results found"};const content_type={'post':"Posts",'project':"Projects",'publication':"Publications",'talk':"Talks"};</script><script id=search-hit-fuse-template type=text/x-template>
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script><script id=dsq-count-scr src=https://behavioral-ds.disqus.com/count.js async></script><script src=/js/academic.min.b3ed283fe092cc42617915d1b60d8923.js></script><script src=//yihui.org/js/math-code.js></script><script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script><div class=container><footer class=site-footer><p class=powered-by>2021 &#183;
Powered by the
<a href=https://sourcethemes.com/academic/ target=_blank rel=noopener>Academic theme</a> for
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a>.
<span class=float-right aria-hidden=true><a href=# class=back-to-top><span class=button_icon><i class="fas fa-chevron-up fa-2x"></i></span></a></span></p></footer></div><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i>Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i>Download</a><div id=modal-error></div></div></div></div></div></body></html>